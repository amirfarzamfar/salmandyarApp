# پلن پیاده‌سازی فرانت‌اند سیستم مدیریت آزمون‌ها (Admin Panel)

این پلن برای پیاده‌سازی رابط کاربری مدیریت آزمون‌ها در پنل ادمین، هماهنگ با تم موجود (Tailwind + Next.js) طراحی شده است. همچنین شامل رفع خطاهای بیلد بک‌اند می‌باشد.

## ۱. رفع خطاهای بیلد بک‌اند (Backend Fixes)
قبل از توسعه فرانت، باید مطمئن شویم API در دسترس است.
- **اصلاح DependencyInjection:** اضافه کردن `using` های صحیح و اطمینان از اینکه اینترفیس‌ها و کلاس‌های سرویس در دسترس هستند.
- **بیلد مجدد:** اجرای `dotnet build` برای اطمینان از صحت کدها.

## ۲. لایه سرویس و تایپ‌های فرانت (Frontend Service & Types)
ایجاد ساختارهای داده‌ای و توابع ارتباط با API.
- **تایپ‌ها (`src/types/assessment.ts`):** تعریف اینترفیس‌های `AssessmentForm`, `Question`, `Option`, `MatchingResult` مطابق با DTOهای بک‌اند.
- **سرویس (`src/services/assessment.service.ts`):** پیاده‌سازی متدهای:
  - `getAllForms()`
  - `createForm(data)`
  - `getFormById(id)`
  - `findMatches(seniorId)`

## ۳. به‌روزرسانی نوار کناری (Sidebar Integration)
اضافه کردن لینک‌های جدید به فایل `src/components/dashboard/Sidebar.tsx`:
- **مدیریت آزمون‌ها** (`/dashboard/admin/assessments`)
  - ایجاد آزمون جدید
  - لیست آزمون‌ها
  - سیستم تطبیق (Matching)

## ۴. پیاده‌سازی صفحات ادمین (Admin Pages)
استفاده از کامپوننت‌های موجود و Tailwind CSS برای حفظ یکپارچگی ظاهری.

### ۴.۱. لیست آزمون‌ها (`/dashboard/admin/assessments/page.tsx`)
- جدول نمایش آزمون‌های فعال.
- دکمه "افزودن آزمون جدید".
- نمایش نوع آزمون (پرستار/سالمند) و تعداد سوالات.

### ۴.۲. فرم‌ساز پیشرفته (`/dashboard/admin/assessments/create/page.tsx`)
- استفاده از `react-hook-form` و `useFieldArray` برای مدیریت فرم‌های تو در تو.
- **قابلیت‌ها:**
  - افزودن/حذف سوال.
  - انتخاب نوع سوال (چندگزینه‌ای، متنی، ...).
  - افزودن گزینه‌ها برای سوالات چندگزینه‌ای.
  - تعیین وزن و تگ‌ها برای هر سوال.
- **UI:** استفاده از کارت‌های `Slate-800` و دکمه‌های `Teal` مطابق تم.

### ۴.۳. صفحه تطبیق هوشمند (`/dashboard/admin/matching/page.tsx`)
- ورودی برای جستجوی شناسه سالمند/بیمار.
- نمایش لیست پرستاران پیشنهادی به صورت کارت‌های رتبه‌بندی شده.
- نمایش درصد شباهت و دلیل انتخاب (Tags matched).

## ۵. کامپوننت‌های مورد نیاز
- **`AssessmentFormBuilder`:** کامپوننت اصلی فرم‌ساز برای استفاده مجدد در ایجاد و ویرایش.
- **`QuestionItem`:** کامپوننت تکی برای ویرایش هر سوال در لیست.

این ساختار کاملاً با معماری فعلی پروژه (Next.js App Router) سازگار است.
