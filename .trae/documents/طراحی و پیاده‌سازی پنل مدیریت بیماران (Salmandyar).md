# نقشه راه طراحی و پیاده‌سازی پنل مدیریت بیماران (Patient-Centric Admin Panel)

این نقشه راه برای ایجاد یک سیستم جامع مدیریت بیماران در منزل طراحی شده است که شامل توسعه Backend برای پشتیبانی از داده‌ها و پیاده‌سازی Frontend مدرن و بیمارمحور است.

## فاز ۱: زیرساخت Backend (پیش‌نیاز ضروری)
برای نمایش داده‌های واقعی در پنل، ابتدا باید ساختار دیتابیس را تکمیل کنیم.

### ۱.۱. به‌روزرسانی موجودیت بیمار (`CareRecipient`)
- **افزودن فیلدها**:
  - `PrimaryDiagnosis` (تشخیص اصلی)
  - `CurrentStatus` (وضعیت فعلی: پایدار، بحرانی، در حال بهبودی)
  - `ResponsibleNurseId` (ارتباط با جدول User برای پرستار مسئول)

### ۱.۲. ایجاد موجودیت‌های جدید
- **`VitalSign` (علائم حیاتی)**: شامل فشار خون، نبض، تنفس، دما، SpO2، GCS، زمان ثبت و پرستار ثبت‌کننده.
- **`CareService` (خدمات مراقبتی)**: شامل نوع خدمت، توضیحات، زمان انجام و انجام‌دهنده.
- **`NursingReport` (گزارش پرستاری)**: شامل متن گزارش، شیفت (صبح/عصر/شب)، زمان و پرستار نویسنده.

### ۱.۳. ایجاد APIها
- کنترلرهای مربوط به CRUD برای هر یک از موجودیت‌های بالا.

---

## فاز ۲: ساختار Frontend و Layout
پیاده‌سازی پوسته اصلی پنل مدیریت با تمرکز بر UX.

### ۲.۱. ایجاد Layout اصلی (`DashboardLayout`)
- **Sidebar ثابت**: شامل منوهای Dashboard، بیماران، پرسنل، گزارش‌ها، تنظیمات.
- **Header**: شامل اطلاعات کاربر لاگین شده و دکمه خروج.
- **Responsive Design**: منوی کشویی برای موبایل.

### ۲.۲. تعریف Typeها
- ایجاد اینترفیس‌های TypeScript دقیق برای `Patient`, `VitalSign`, `CareService`, `NursingReport` منطبق با Backend.

---

## فاز ۳: پیاده‌سازی صفحات اصلی

### ۳.۱. صفحه لیست بیماران (`/dashboard/patients`)
- **جدول داده**: نمایش لیست بیماران با ستون‌های نام، سن، تشخیص، پرستار و وضعیت.
- **فیلتر و جستجو**: جستجو بر اساس نام و فیلتر بر اساس وضعیت.
- **اکشن‌ها**: دکمه "مشاهده پرونده" برای هدایت به صفحه پروفایل.

### ۳.۲. صفحه پروفایل بیمار (`/dashboard/patients/[id]`)
این صفحه قلب سیستم است و به صورت Tab-Based پیاده‌سازی می‌شود.

#### تب ۱: نمای کلی (Overview)
- کارت‌های خلاصه وضعیت (Stat Cards).
- نمایش آخرین علائم حیاتی به صورت ویجت سریع.
- نمایش تشخیص و اطلاعات دموگرافیک.

#### تب ۲: علائم حیاتی (Vital Signs)
- **فرم ثبت سریع**: مودال یا فرم درون‌خطی برای ثبت علائم جدید.
- **نمودار**: استفاده از `recharts` برای نمایش روند تغییرات (مثلاً نمودار دما و فشار).
- **جدول تاریخچه**: لیست تمام علائم ثبت شده.

#### تب ۳: خدمات (Care Services)
- تایم‌لاین عمودی خدمات انجام شده در روز جاری.
- فرم ثبت خدمت جدید توسط پرستار.

#### تب ۴: گزارش‌های پرستاری (Nursing Reports)
- نمایش گزارش‌ها به تفکیک شیفت کاری.
- ادیتور متنی ساده برای ثبت گزارش جدید.

#### تب ۵: تایم‌لاین جامع (Timeline)
- ترکیب تمام رویدادها (علائم، خدمات، گزارش‌ها) در یک لیست زمانی واحد برای دیدن تصویر کلی وضعیت بیمار.

---

## فاز ۴: استایل‌دهی و UX
- استفاده از پالت رنگی **Teal/Blue/Slate** برای حس پزشکی و آرامش.
- استفاده از کامپوننت‌های `shadcn/ui` (در صورت تمایل) یا کامپوننت‌های دست‌ساز با Tailwind برای سرعت و زیبایی.
- طراحی Mobile-First برای استفاده راحت پرستاران روی تبلت یا موبایل.

## گام بعدی پیشنهادی
با تایید شما، من کار را با **فاز ۱ (به‌روزرسانی Backend)** شروع می‌کنم تا زیرساخت داده‌ای برای طراحی UI فراهم شود. سپس به سراغ طراحی Layout و صفحات می‌روم.