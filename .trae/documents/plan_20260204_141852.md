# پلن پیاده‌سازی مدیریت کامل (CRUD) آزمون‌ها و سوالات

برای پاسخ به درخواست کاربر جهت نمایش تمام آزمون‌ها با قابلیت CRUD کامل برای خود آزمون و سوالات آن، تغییرات زیر در بک‌اند و فرانت‌اند اعمال خواهد شد.

## ۱. لایه بک‌اند (Backend)

### ۱.۱. به‌روزرسانی `IAssessmentService` و پیاده‌سازی `AssessmentService`

متدهای زیر اضافه خواهند شد:

* `GetAllFormsAsync()`: دریافت تمام آزمون‌ها.

* `GetFormByIdAsync(int id)`: دریافت جزئیات یک آزمون خاص.

* `UpdateFormAsync(int id, CreateAssessmentFormDto dto)`: ویرایش کلیات و سوالات آزمون.

* `DeleteFormAsync(int id)`: حذف آزمون (Soft Delete یا Hard Delete).

* `ToggleFormActivationAsync(int id)`: فعال/غیرفعال کردن آزمون.

### ۱.۲. به‌روزرسانی `AssessmentsController`

اندپوینت‌های جدید:

* `GET /api/assessments/forms`: لیست تمام آزمون‌ها.

* `GET /api/assessments/forms/{id}`: دریافت جزئیات برای ویرایش.

* `PUT /api/assessments/forms/{id}`: ویرایش آزمون.

* `DELETE /api/assessments/forms/{id}`: حذف آزمون.

* `PATCH /api/assessments/forms/{id}/toggle`: تغییر وضعیت فعال/غیرفعال.

## ۲. لایه فرانت‌اند (Frontend)

### ۲.۱. به‌روزرسانی `assessment.service.ts`

اضافه کردن توابع فراخوانی API برای متدهای جدید (لیست کامل، ویرایش، حذف، دریافت تکی).

### ۲.۲. صفحه مدیریت آزمون‌ها (`/dashboard/admin/assessments/page.tsx`)

* تغییر نمایش استاتیک به داینامیک (استفاده از `useQuery`).

* نمایش جدول یا کارت‌های آزمون با دکمه‌های: **ویرایش**، **حذف**، **تغییر وضعیت**.

### ۲.۳. صفحه ویرایش آزمون (`/dashboard/admin/assessments/[id]/edit/page.tsx`)

* ایجاد صفحه جدید برای ویرایش (مشابه صفحه `create` اما با قابلیت پر کردن داده‌های قبلی).

* استفاده مجدد از کامپوننت‌های فرم‌ساز برای ویرایش سوالات و گزینه‌ها.

### ۲.۴. کامپوننت‌های مشترک

* استخراج منطق فرم‌ساز به یک کامپوننت `AssessmentFormBuilder` جهت جلوگیری از تکرار کد بین صفحات `create` و `edit`.

## مراحل اجرایی:

1. **بک‌اند:** آپدیت سرویس و کنترلر برای پشتیبانی از عملیات CRUD.
2. **فرانت‌اند:** آپدیت سرویس کلاینت.
3. **فرانت‌اند:** ریفکتور صفحه `create` و ساخت کامپوننت مشترک `AssessmentFormBuilder`.
4. **فرانت‌اند:** پیاده‌سازی صفحه لیست (`index`) با اتصال به API.
5. **فرانت‌اند:** پیاده‌سازی صفحه ویرایش (`edit`).

