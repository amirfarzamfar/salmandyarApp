I have analyzed the current codebase and confirmed that while the Frontend has some UI components for medications (using mock data), the Backend (**Salmandyar.API**) completely lacks the Medication module.

I will implement the **Medication Reminder & Administration System (MVP)** by building the backend foundation and connecting it to the frontend.

### **Phase 1: Backend Domain & Infrastructure**
1.  **Create Domain Entities (`Salmandyar.Domain`)**
    *   `PatientMedication`: Represents the "Kardex" entry (Order).
    *   `MedicationDose`: Represents the individual scheduled dose (Instance).
    *   `MedicationFrequency` & `DoseStatus`: Enums for logic control.
2.  **Database Configuration (`Salmandyar.Infrastructure`)**
    *   Add `DbSet`s to `ApplicationDbContext`.
    *   Create Entity Configurations (Relationships, constraints).
    *   Generate and apply EF Core Migration.

### **Phase 2: Application Logic & API**
3.  **DTOs & Interfaces (`Salmandyar.Application`)**
    *   Define `MedicationDto`, `CreateMedicationDto`, `DoseInstanceDto`.
    *   Create `IMedicationService` interface.
4.  **Service Implementation**
    *   Implement `MedicationService`:
        *   `AddMedication`: Saves medication and *generates initial doses* for the next 7 days.
        *   `GetPatientMedications`: Returns the Kardex.
        *   `GetDailySchedule`: Returns doses for a specific date (generating if missing).
        *   `RecordAdministration`: Updates status (Taken/Missed) and logs time/user.
5.  **API Controllers (`Salmandyar.API`)**
    *   `MedicationsController`: Expose endpoints for the frontend.

### **Phase 3: Frontend Integration**
6.  **Update Services (`frontend/src/services`)**
    *   Rewrite `nurse-portal.service.ts` (or create `medication.service.ts`) to call real endpoints.
7.  **Enhance UI Components**
    *   Update `MedicationTracker.tsx` to remove mocks and handle real data.
    *   Implement the "Add Medication" modal with proper fields (Name, Dose, Frequency, Route).

### **Phase 4: Verification**
8.  **End-to-End Test**
    *   Add a medication for a patient.
    *   Verify doses appear in the schedule.
    *   Mark a dose as "Taken" and verify the status update.

### **Technical Architecture (MVP)**
*   **Database:** SQL Server (via EF Core).
*   **API:** RESTful .NET 8 Web API.
*   **Scheduling:** "Lazy Generation" strategy for MVP (doses generated when medication is added or schedule accessed), ensuring simplicity and reliability without a complex background scheduler immediately.
